CREATE TABLE `user` (
userId 		INT AUTO_INCREMENT NOT NULL,
username 	VARCHAR(50) NOT NULL UNIQUE,
password 	VARCHAR(50),
firstname  	VARCHAR(50),
lastname  	VARCHAR(50),
PRIMARY KEY (userId)
);

CREATE TABLE book (
isbn  		VARCHAR(20) NOT NULL,
title  		VARCHAR(255) NOT NULL,
imglink   	VARCHAR(255),
category   	VARCHAR(100),
description  	TEXT,
rating 	 	DECIMAL(2,1),
num_ratings	INT,
num_pages	INT,
release_date  	DATE,
PRIMARY KEY (isbn)
);

CREATE TABLE author (
authorId   	bigint AUTO_INCREMENT,
name 		VARCHAR(255) NOT NULL,
PRIMARY KEY (authorId)
);

CREATE TABLE review (
reviewId 	BIGINT AUTO_INCREMENT,
userId	 	INT NOT NULL,
bookId	 	VARCHAR(20) NOT NULL,
liked	 	BOOLEAN,
body	 	TEXT,
created_date 	DATETIME,
PRIMARY KEY (reviewId),
FOREIGN KEY (userId) REFERENCES `user`(userId)
	ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (bookId) REFERENCES book(isbn)
	ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE written_by (
bookId 	 	VARCHAR(20) NOT NULL,
authorId  	BIGINT NOT NULL,
PRIMARY KEY (bookId, authorId),
FOREIGN KEY (bookId) REFERENCES book(isbn)
	ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (authorId) REFERENCES author(authorId)
	ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE follows (
userId 	 	INT NOT NULL,
follows  	INT NOT NULL,
PRIMARY KEY (userId, follows),
FOREIGN KEY (userId) REFERENCES `user`(userId)
	ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (follows) REFERENCES `user`(userId)
	ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE wishlist (
userId 	 	INT NOT NULL,
bookId 	 	VARCHAR(20),
PRIMARY KEY (userId, bookId),
FOREIGN KEY (userId) REFERENCES `user`(userId)
	ON DELETE CASCADE,
FOREIGN KEY (bookId) REFERENCES book(isbn)
	ON DELETE CASCADE ON UPDATE CASCADE
);











user(userId, username, firstname, lastname)
pk: userId

review(reviewId, userId, bookId, like, bookId, body, created_date)
pk: reviewId
fk: userId refers user(userId)
fk: bookId refers book(bookId)
not null: bookId
not null: userId

book(isbn, title, imglink, category, description, rating, release_date)
pk: isbn


author(authorId, name)
pk: authorId

written_by(authorId, bookId)
pk: (authorId, bookId)
fk: (authorId) refers author(authorId)
fk :(bookId) refers book(bookId)

follows(userId, follows)
pk: (userId, follows)
fk: userId refers user(userId)
fk: follows refers user(userId)

wishlist(userId, bookId)
pk: (userId, bookId)
fk: (userId) refers user(userId)
fk: bookId refers book(bookId)




